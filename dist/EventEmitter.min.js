/*! ee-class 2014-12-28 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["../dist/Class.min"],b):"object"==typeof exports?module.exports=b(require("../dist/Class.min")):a.EventEmitter=b(a.Class)}(this,function(a){"use strict";var b=console.log,c=new a({___events:{get:function(){return Object.hasOwnProperty.call(this,"____events")||a.define(this,"____events",a({}).Writable()),this.____events}},emit:function(a){var c,d,e,f=arguments;if(this.___events[a])for(d=this.___events[a].length;d--;){if(e=this.___events[a][d],"function"!=typeof e.listener)throw this.___events[a].splice(d,1),new Error("cannot emit event «"+a+"», listener is typeof «"+typeof e.listener+"»");e.listener.apply(null,Array.prototype.slice.call(f,1)),e.once&&this.___events[a].splice(d,1)}else"error"===a&&(c=Array.prototype.slice.call(f,1).filter(function(a){return a instanceof Error}),b.error("Cannot emit error event without listeners!"),b.trace(c[0]));return this},listener:function(a){return this.___events&&this.___events[a]?this.___events[a]:[]},off:function(a,b){var c;if(a)if(b&&this.___events[a])for(c=this.___events[a].length;c--;)this.___events[a][c].listener===b&&this.___events[a].splice(c,1);else this.___events[a]&&delete this.___events[a];else this.____events={};return this.emit("removeListener",a,b),this},once:function(a,b){return this.on(a,b,!0)},on:function(a,b,c){var d,e;if("object"==typeof a)for(d=Object.keys(a),e=d.length;e--;)this.addListener(d[e],a[d[e]],c);else this.addListener(a,b,c);return this},addListener:function(a,b,c){this.___events[a]||(this.___events[a]=[]),this.emit("listener",a,b,c===!0),this.___events[a].push({listener:b,once:!!c})}});return c});
//# sourceMappingURL=EventEmitter.min.js.map