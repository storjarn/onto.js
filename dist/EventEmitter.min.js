/*! ee-class 2015-01-16 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["../dist/Class.min"],b):"object"==typeof exports?module.exports=b(require("../dist/Class.min")):a.EventEmitter=b(a.Class)}(this,function(a){"use strict";var b=console.log,c=new a({___events:{get:function(){return Object.hasOwnProperty.call(this,"____events")||a.define(this,"____events",a({}).Writable()),this.____events}},emit:function(a,c){var d=arguments,e,f,g;if(this.___events[a])for(f=this.___events[a].length;f--;){if(g=this.___events[a][f],"function"!=typeof g.listener)throw this.___events[a].splice(f,1),new Error("cannot emit event «"+a+"», listener is typeof «"+typeof g.listener+"»");g.listener.apply(null,Array.prototype.slice.call(d,1)),g.once&&this.___events[a].splice(f,1)}else"error"===a&&(e=Array.prototype.slice.call(d,1).filter(function(a){return a instanceof Error}),b.error("Cannot emit error event without listeners!"),b.trace(e[0]));return this},listener:function(a){return this.___events&&this.___events[a]?this.___events[a]:[]},off:function(a,b){var c;if(a)if(b&&this.___events[a])for(c=this.___events[a].length;c--;)this.___events[a][c].listener===b&&this.___events[a].splice(c,1);else this.___events[a]&&delete this.___events[a];else this.____events={};return this.emit("removeListener",a,b),this},once:function(a,b){return this.on(a,b,!0)},on:function(a,b,c){var d,e;if("object"==typeof a)for(d=Object.keys(a),e=d.length;e--;)this.addListener(d[e],a[d[e]],c);else this.addListener(a,b,c);return this},addListener:function(a,b,c){this.___events[a]||(this.___events[a]=[]),this.emit("listener",a,b,c===!0),this.___events[a].push({listener:b,once:!!c})}});return c});
//# sourceMappingURL=EventEmitter.min.js.map